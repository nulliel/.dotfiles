#!/usr/bin/env bash

subheader "skypeforlinux"

#-- Config -----------------------------------------------------------------------------------------
local rpm_source="https://go.skype.com/skypeforlinux-64-alpha.rpm"

#-- Check for existing installation ----------------------------------------------------------------
if command_exists skypeforlinux; then
  skip "Installing skypeforlinux..."
  exit_subheader && return
fi

#-- Confirm installation ---------------------------------------------------------------------------
if ! confirm_default "Install skypeforlinux?"; then
  skip "Installing skypeforlinux..."
  exit_subheader && return
fi

#-- Dependencies -----------------------------------------------------------------------------------
package_install "libXv"
package_install "libXScrnSaver"
package_install "qt"
package_install "qt-x11"
package_install "pulseaudio-libs"
package_install "pulseaudio-libs-glib2"
package_install "alsa-plugins-pulseaudio"
package_install "qtwebkit"
package_install "libappindicator"

#-- Install ----------------------------------------------------------------------------------------
install_rpm "$rpm_source"

exit_subheader
